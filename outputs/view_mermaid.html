<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mermaid Visualization</title>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true, theme: 'default' });
    </script>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        .mermaid { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
    </style>
</head>
<body>
    <h1>Mermaid Graph Visualization</h1>
    <div class="mermaid">
classDiagram
    direction TB

    %% --- Level 0: Root Classes ---
    class ID_1["1: 現状を計測・評価する"] {
        In: ワーク/組付け体、測定計画・図面
        Out: 現状評価結果（変位/隙間/外観）
    }
    class ID_2["2: 原因を解析・検証する"] {
        In: 現状評価結果、現場所見/測定・解析データ
        Out: 原因仮説と検証結果（正否）
    }
    class ID_3["3: 対策方針を策定する"] {
        In: 原因・制約情報、改善目標
        Out: 対策方針・優先順位
    }
    class ID_4["4: 基準を見直す（変更・追加）"] {
        In: 対策方針、設備制約/可動性情報
        Out: 見直し設計・実装（位置/構造/追加）
    }
    class ID_5["5: 形状を変更する（プレス/金型）"] {
        In: 対策方針、成形性・品質制約
        Out: 形状変更仕様・改修計画
    }
    class ID_6["6: 溶接計画を最適化する"] {
        In: 変形/品質課題、現行溶接計画
        Out: 最適化案・更新された溶接計画
    }
    class ID_7["7: 現物をセット・調整する"] {
        In: 部品、治具、締付設備
        Out: セット・調整完了状態
    }
    class ID_8["8: 製造を実施する"] {
        In: 製造計画、設備/治具
        Out: 製造された部品/サンプル
    }
    class ID_9["9: 実施可否を判断する"] {
        In: 効果評価、影響評価、コスト評価
        Out: 実施/保留の意思決定
    }

    %% --- Level 1: PartOf Relation Definition ---
    %% Parent: 1
    ID_1 *-- ID_10
    ID_1 *-- ID_11
    ID_1 *-- ID_12
    ID_1 *-- ID_13
    ID_1 *-- ID_14
    ID_1 *-- ID_15
    ID_1 *-- ID_16
    ID_1 *-- ID_17
    ID_1 *-- ID_18
    ID_1 *-- ID_19
    ID_1 *-- ID_20
    ID_1 *-- ID_21

    %% Parent: 2
    ID_2 *-- ID_22
    ID_2 *-- ID_23
    ID_2 *-- ID_24
    ID_2 *-- ID_25
    ID_2 *-- ID_26
    ID_2 *-- ID_27

    %% Parent: 3
    ID_3 *-- ID_28
    ID_3 *-- ID_29
    ID_3 *-- ID_30

    %% Parent: 4
    ID_4 *-- ID_31
    ID_4 *-- ID_32
    ID_4 *-- ID_33
    ID_4 *-- ID_34
    ID_4 *-- ID_35
    ID_4 *-- ID_36
    ID_4 *-- ID_37

    %% Parent: 5
    ID_5 *-- ID_38
    ID_5 *-- ID_39
    ID_5 *-- ID_40
    ID_5 *-- ID_42

    %% Parent: 6
    ID_6 *-- ID_44
    ID_6 *-- ID_45
    ID_6 *-- ID_46
    ID_6 *-- ID_47

    %% Parent: 7
    ID_7 *-- ID_48
    ID_7 *-- ID_49
    ID_7 *-- ID_50
    ID_7 *-- ID_51
    ID_7 *-- ID_52
    ID_7 *-- ID_53
    ID_7 *-- ID_54

    %% Parent: 8
    ID_8 *-- ID_55
    ID_8 *-- ID_56

    %% Parent: 9
    ID_9 *-- ID_57
    ID_9 *-- ID_58
    ID_9 *-- ID_59
    ID_9 *-- ID_60
    ID_9 *-- ID_61

    %% --- Child Classes Definition ---
    
    %% Children of 1
    class ID_10["10: 目視・触診で外観を確認する"] {
        In: 対象部品・組付け体
        Out: 外観所見（打痕/干渉/歪み）
    }
    class ID_11["11: 組み付け状態を観察する"] {
        In: 組付け体（仮組含む）
        Out: 異常所見（当たり/ガタ/位置ずれ）
    }
    class ID_12["12: 三次元形状を測定する"] {
        In: 治具にセット済みワーク、測定計画
        Out: 形状点群/寸法データ
    }
    class ID_13["13: CADとの差分カラーマップを作成する"] {
        In: 三次元形状データ、CADモデル
        Out: 差分カラーマップ/偏差分布
    }
    class ID_14["14: 隙間量を測定する"] {
        In: 組付け体、隙間ゲージ/三次元測定機
        Out: 隙間量データ
    }
    class ID_15["15: 溶接後の寸法精度を測定する"] {
        In: 溶接済み部品、測定基準
        Out: 寸法測定データ（溶接影響含む）
    }
    class ID_16["16: 穴径・面精度を測定する"] {
        In: プレス/加工品、ゲージ/三次元測定機
        Out: 穴径・面位置データ
    }
    class ID_17["17: 単体精度を評価する"] {
        In: 単体測定結果、基準値/公差
        Out: 合否/偏差評価
    }
    class ID_18["18: 形状データから状態を評価・判定する"] {
        In: 測定・差分データ
        Out: 不具合部位・変位量・判定結果
    }
    class ID_19["19: 公差適合性を確認する"] {
        In: 測定データ、公差情報/図面
        Out: 公差内/外の判定結果
    }
    class ID_20["20: 不具合有無を最終確認する"] {
        In: 全評価結果・判定基準
        Out: 最終の不具合有無（OK/NG）
    }
    class ID_21["21: 精度データを準備する"] {
        In: 図面、公差、測定条件・治具情報
        Out: 測定・評価用データセット
    }

    %% Children of 2
    class ID_22["22: 原因を推定する"] {
        In: 評価結果・所見、制約/工程情報
        Out: 推定原因リスト（仮説）
    }
    class ID_23["23: CAEで剛性・変位を解析する"] {
        In: CAD/メッシュ、荷重・拘束条件
        Out: 変位/剛性/荷重-変位解析結果
    }
    class ID_24["24: 治具干渉箇所を解析する"] {
        In: 実測下がり量/3Dデータ、治具構造情報
        Out: 干渉疑い箇所/下がり比較結果
    }
    class ID_25["25: 干渉の有無を簡易確認する"] {
        In: 現物治具・部品、当たり/抜け確認手段
        Out: 干渉有無の所見
    }
    class ID_26["26: 基準穴周辺の剛性を評価する"] {
        In: 実測/解析データ、基準周辺条件
        Out: 剛性評価（弱点/影響度）
    }
    class ID_27["27: 推定原因の正否を判断する"] {
        In: 推定原因、追加測定/解析結果
        Out: 正/否判定と根拠
    }

    %% Children of 3
    class ID_28["28: 不具合の解決対象を選定する"] {
        In: 不具合影響度、納期・コスト、リスク
        Out: 優先度付き解決対象リスト
    }
    class ID_29["29: サブプロセスを選定する"] {
        In: 対象工程候補、改善目的
        Out: 着手工程の選定結果
    }
    class ID_30["30: 対策案を立案する"] {
        In: 原因・制約、改善目標
        Out: 対策案（基準/形状/工程/溶接）
    }

    %% Children of 4
    class ID_31["31: 基準群・基準関係を同定する"] {
        In: 図面/工程情報、現物治具
        Out: 基準リスト/関係整理
    }
    class ID_32["32: 基準の可動性・制約を確認する"] {
        In: 設備仕様・図面、冶具機構情報
        Out: 可動/固定・制約条件一覧
    }
    class ID_33["33: 基準位置を決定する"] {
        In: 制約/CG/設備条件、可動範囲
        Out: 目標基準位置案
    }
    class ID_34["34: 基準構造を決定する"] {
        In: 干渉/剛性/固定性要件、治具制約
        Out: 基準構造仕様（ピン/シム/異形）
    }
    class ID_35["35: 基準位置を変更する（実装）"] {
        In: 目標位置・変更手順、治工具
        Out: 変更済み基準（位置更新）
    }
    class ID_36["36: 基準追加案を立案する"] {
        In: 固定性課題、治具構成、制約
        Out: 基準追加案
    }
    class ID_37["37: 基準を追加する（実装）"] {
        In: 追加案、部品/治具
        Out: 追加済み基準（新規基準実装）
    }

    %% Children of 5
    class ID_38["38: 形状変更位置を決定する"] {
        In: 変形/干渉情報、成形性・工程制約
        Out: 改修位置案
    }
    class ID_39["39: 形状変更形状を決定する"] {
        In: 目標公差・機能、成形性・ビード/トリム条件
        Out: 変更形状案（ビード/トリム）
    }
    class ID_40["40: 金型を改修する"] {
        In: 改修仕様、現金型/3Dデータ
        Out: 改修済み金型
    }
    class ID_42["42: 形状変更を実施する"] {
        In: CAD反映/改修仕様、製造条件
        Out: 形状変更反映品/データ
    }

    %% Children of 6
    class ID_44["44: 打点位置を確認する"] {
        In: 溶接計画/図、現物
        Out: 打点位置確認結果
    }
    class ID_45["45: 打点順位を確認する"] {
        In: 現行打点順序、品質課題
        Out: 現行打点順位の確認結果
    }
    class ID_46["46: 打点順位の調整案を立案する"] {
        In: 変形課題/解析結果、工程制約
        Out: 打点順位調整案
    }
    class ID_47["47: 打点順位を変更する（実装）"] {
        In: 調整案、設備設定手順
        Out: 更新された打点順序
    }

    %% Children of 7
    class ID_48["48: 部品を治具にセットする"] {
        In: 部品、治具
        Out: 治具セット済み部品
    }
    class ID_49["49: クランプで仮固定する"] {
        In: セット済み部品、クランプ
        Out: 仮固定状態
    }
    class ID_50["50: クランプを一部解除する"] {
        In: 固定状態の組付け体
        Out: 解放状態/挙動情報
    }
    class ID_51["51: 部品を組み付ける"] {
        In: 各部品、治具/締結具
        Out: 組付け体
    }
    class ID_52["52: 治具の締付を強化する"] {
        In: 締付不足の所見、工具・トルク管理値
        Out: 締付力向上/トルク設定
    }
    class ID_53["53: 押さえ側基準を補強する（板材挿入）"] {
        In: 押さえ側基準、補強板材/スペーサ
        Out: 補強済み基準
    }
    class ID_54["54: 受け側基準を調整する（シム挿入）"] {
        In: 受け側基準、シム/スペーサ
        Out: 調整済み基準（シム厚含む）
    }

    %% Children of 8
    class ID_55["55: 溶接を実施する"] {
        In: 溶接計画、部材、治具/設備
        Out: 溶接済み部品
    }
    class ID_56["56: プレス成形を実施する"] {
        In: プレス金型、材料、成形条件
        Out: プレス単品
    }

    %% Children of 9
    class ID_57["57: 基準変更の効果を評価する"] {
        In: 基準変更後の測定/シミュレーション結果
        Out: 効果評価結果（倒れ/隙間改善）
    }
    class ID_58["58: 形状変更の効果を評価する"] {
        In: 形状変更後の測定/CAE結果
        Out: 効果評価結果（変位/剛性/隙間）
    }
    class ID_59["59: 前後工程への影響を評価する"] {
        In: 変更案/実装案、工程計画・品質要求
        Out: 前後工程への影響評価（可/不可・対策）
    }
    class ID_60["60: コストを評価する"] {
        In: 変更案/実装案、工数・設備改造要件
        Out: コスト見積・採算性評価
    }
    class ID_61["61: 干渉解消可否を評価する"] {
        In: 干渉情報、形状/基準変更案、設備制約
        Out: 干渉解消の可否評価（可能/困難）
    }
    </div>
</body>
</html>
